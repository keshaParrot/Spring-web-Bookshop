<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/manageBook.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/layout.css}" rel="stylesheet" type="text/css">
    <link  rel="stylesheet" href="../static/css/manageBook.css">
    <title>Edit book property</title>
</head>
<body>
<div th:insert="~{layout :: headerFragment}"></div>
<div th:insert="~{layout :: navFragment}"></div>

<div class="container">
    <div class="vertical-container">
        <div class="bookInfoSection">
            <div style="margin: 5px;">
                <a th:href="@{/home/book/{id}(id=${book.id})}"><button class="button-default">Back to book</button></a>
                <a th:href="@{/home/book/{bookId}/delete(bookId=${book.id})}"><button class="button-default">Delete Book</button></a>
            </div>
            <form role="form" method="post" th:action="@{/home/book/{bookId}/edit(bookId=${book.id})}" th:object="${book}">
                <div class="vertical-container">
                    <div class="booksImageBlock">
                        <div class="booksImage">
                            <img src="../static/SourceImg/71qoANDJu+L._AC_UF1000,1000_QL80_.jpg">
                        </div>
                        <div style="margin: 30px;">
                            <label>Photo Url</label>
                            <span th:if="${#fields.hasErrors('photoURL')}" class="errorField">? </span><Input th:field="*{photoURL}" type="file">
                        </div>
                    </div>
                    <div class="bookInfoBlock">
                        <table class="localTable">
                            <tr>
                                <td><span th:if="${#fields.hasErrors('title')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('title')}">
                                        <p th:each="error : ${#fields.errors('title')}" th:text="${error}"></p>
                                    </div>
                                    Title:
                                </td>
                                <td><input class="input" th:field="*{title}" name="text" type="search"></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('price')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('price')}">
                                        <p th:each="error : ${#fields.errors('price')}" th:text="${error}"></p>
                                    </div>
                                    Price:
                                </td>
                                <td><input class="input" th:field="*{price}" name="text" type="number"></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('isbn')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('isbn')}">
                                        <p th:each="error : ${#fields.errors('isbn')}" th:text="${error}"></p>
                                    </div>
                                    ISNB:
                                </td>
                                <td><input class="input" th:field="*{isbn}" name="text" type="search"></td>
                            </tr>

                            <tr><td><br></td></tr>

                            <tr>
                                <td><span th:if="${#fields.hasErrors('ageGroup')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('ageGroup')}">
                                        <p th:each="error : ${#fields.errors('ageGroup')}" th:text="${error}"></p>
                                    </div>
                                    Age group:
                                </td>
                                <td><input class="input" th:field="*{ageGroup}" name="text"type="search"></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('numberOfPages')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('numberOfPages')}">
                                        <p th:each="error : ${#fields.errors('numberOfPages')}" th:text="${error}"></p>
                                    </div>
                                    Number of pages:
                                </td>
                                <td><input class="input" th:field="*{numberOfPages}" name="text" type="number"></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('publicationDate')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('publicationDate')}">
                                        <p th:each="error : ${#fields.errors('publicationDate')}" th:text="${error}"></p>
                                    </div>
                                    Publication Date:
                                </td>
                                <td><input class="input" th:field="*{publicationDate}" name="text" type="date"></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('language')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('language')}">
                                        <p th:each="error : ${#fields.errors('language')}" th:text="${error}"></p>
                                    </div>
                                    Language:
                                </td>
                                <td><input class="input" th:field="*{language}" name="text" type="search"></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('genre')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('genre')}">
                                        <p th:each="error : ${#fields.errors('genre')}" th:text="${error}"></p>
                                    </div>
                                    Genre:
                                </td>
                                <td><input class="input" th:field="*{genre}" name="text" type="search"></td>
                            </tr>

                            <tr><td><br></td></tr>

                            <tr>
                                <td><span th:if="${#fields.hasErrors('publisher')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('publisher')}">
                                        <p th:each="error : ${#fields.errors('publisher')}" th:text="${error}"></p>
                                    </div>
                                    Publisher:
                                </td>
                                <td><select th:field="*{publisher}" class="select">
                                    <option th:each="option : ${publisherList}" th:value="${option.id}" th:text="${option.publisherName}">Wbox</option>
                                </select></td>
                            </tr>
                            <tr>
                                <td><span th:if="${#fields.hasErrors('authors')}" class="errorField">? </span>
                                    <div class="tooltip-text" th:if="${#fields.hasErrors('authors')}">
                                        <p th:each="error : ${#fields.errors('authors')}" th:text="${error}"></p>
                                    </div>
                                    Authors
                                </td>
                                <td><Select th:field="*{authors}" multiple class="select">
                                    <option th:each="option : ${authorsList}" th:value="${option.id}" th:text="${option.firstName} + ' ' + ${option.lastName}">Wbox</option>
                                </Select>
                                </td>
                            </tr>
                            <tr>
                                <td><button type="submit">save book</button></td>
                            </tr>
                        </table>

                    </div>
                </div>

                <div class="bottomSection">
                    <div class="bookDescriptionBlock">
                        <div style="padding: 15px;">
                            <h3>Description</h3>

                            <span class="errorField" th:if="${#fields.hasErrors('descriptionParagraph1')}">? </span>
                            <div class="tooltip-text" th:if="${#fields.hasErrors('descriptionParagraph1')}">
                                <p th:each="error : ${#fields.errors('descriptionParagraph1')}" th:text="${error}"></p>
                            </div>
                            <span class="descriptionTitle">Paragraph 1</span>
                            <textarea th:value="${book.descriptionParagraph1}" th:field="*{descriptionParagraph1}" maxlength="190" class="descriptionTextArea"></textarea>

                            <span class="errorField" th:if="${#fields.hasErrors('descriptionParagraph2')}">? </span>
                            <div class="tooltip-text" th:if="${#fields.hasErrors('descriptionParagraph2')}">
                                <p th:each="error : ${#fields.errors('descriptionParagraph2')}" th:text="${error}"></p>
                            </div>
                            <span class="descriptionTitle">Paragraph 2</span>
                            <textarea th:value="${book.descriptionParagraph2}" th:field="*{descriptionParagraph2}" maxlength="190" class="descriptionTextArea"></textarea>

                            <span class="descriptionTitle">Paragraph 3</span>
                            <textarea th:value="${book.descriptionParagraph3}" th:field="*{descriptionParagraph3}" maxlength="190" class="descriptionTextArea"></textarea>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>